<header>

  <mat-toolbar >
    <button mat-icon-button class="example-icon" aria-label="Example icon-button with menu icon">
      <mat-icon>menu</mat-icon>
    </button>
    <span>MarcketBuy</span>
    <span class="example-spacer" >
      <app-search-input
            style=" width: 80%;"
            [placeholder]="'Buscar productos'"
          ></app-search-input>
    </span>

    <button *ngxPermissionsOnly="['no-auth']" (click)="authModal()" mat-icon-button class="example-icon favorite-icon" aria-label="Example icon-button with heart icon">
      <mat-icon>person</mat-icon>
    </button>

    <ng-container *ngxPermissionsExcept="['no-auth']">
      <ng-container *ngIf="(authService.currentUser$ | async) as user">
        <button mat-button [matMenuTriggerFor]="menu" aria-label="Example icon-button with a menu">
          Hola, {{user.full_name}}
        </button>
        <mat-menu #menu="matMenu">
          <button (click)="authService.logout()" mat-menu-item>
            <span>Cerrar sesi√≥n</span>
          </button>
        </mat-menu>
      </ng-container>
    </ng-container>

  </mat-toolbar>

  <mat-toolbar style="height: 30px;">
    <button mat-button routerLink="''">Productos</button>

    <button *ngxPermissionsOnly="['admin']" mat-menu-item [matMenuTriggerFor]="DashboardMenu" style="width: 100px; height: 36px; line-height: 0px;">Dashboard</button>
      <mat-menu #DashboardMenu="matMenu" xPosition="before">

        <button mat-menu-item [matMenuTriggerFor]="CategoriaMenu">Categoria</button>
          <mat-menu #CategoriaMenu="matMenu" xPosition="before">
            <a mat-menu-item  routerLink="/dashboard/category/new-category" >Nueva categoria</a>
            <a mat-menu-item routerLink="/dashboard/category/all-category" >Todas las categorias</a>
          </mat-menu>

          <button mat-menu-item [matMenuTriggerFor]="MarcaMenu">Marca</button>
          <mat-menu #MarcaMenu="matMenu" xPosition="before">
            <a mat-menu-item  routerLink="/dashboard/brands/new-brand" >Nueva marca</a>
            <a mat-menu-item routerLink="/dashboard/brands/all-brands" >Todas las marcas</a>
          </mat-menu>

      </mat-menu>

  </mat-toolbar>

</header>
